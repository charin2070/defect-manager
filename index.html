<!DOCTYPE html>
<html lang="ru" style="font-family: 'Roboto', sans-serif;">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DM</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="src/img/favicon.png">
    <link rel="stylesheet" href="src/styles/tailwind.min.css">
    <link rel="stylesheet" href="src/styles/app-components.css">
    <link rel="stylesheet" href="src/styles/date-range-dropdown.css">
    <link rel="stylesheet" href="src/styles/dropdown.css">
    <link rel="stylesheet" href="src/styles/teams-dropdown.css">
    <link rel="stylesheet" href="src/styles/scrollbar-minimal.css">
    <link rel="stylesheet" href="src/styles/theme.css">      
    <link rel="stylesheet" href="styles/app-style.css">
    <link rel="stylesheet" href="src/styles/components/slide-panel.css">
    <link rel="stylesheet" href="src/styles/components/custom-file-input.css">
    <link rel="stylesheet" href="styles/dots-loader.css">
    <link rel="stylesheet" href="src/styles/style.css">
</head>
<body>
    <!-- AI INSTRUCTION 

Это приложение для помощи в устранении дефектов программного обеспечения работает так: 
1. При загрузке index.html вызывается скрипт app.js, в котором описана логика дальнейшей загрузки приложения.
2. app.js создаёт объект класса App, который загружает из Local Storage массив issues, который содержит объекты описывающие свойства задачи в Jira на исправление дефекта.
3. Далее app вызывает метод showBacklogView класса UIManager и передаёт в качестве параметра массив issues.
4. UIManager постоянно использует массив issues для визуализации информации о задачах, поэтому массив issues должен оставаться неизменным.
-->

    <!-- Navbar -->
    <nav class="navbar" style="margin-bottom: 3em!important">
        <div class="navbar-items-container">
            <div class="navbar-items-group" style="gap: 0.5em;">
                <input type="file" id="fileInput" style="display: none;">
                <div class="menu-button" id="actions-menu">
                    <img class="app-navbar-icon" src="src/img/tuning2.svg" style="width: 1.2em;">
                    <div class="menu-dropdown" style="right: inherit;">
                        <div class="menu-item" id="upload-file-button">
                            <img src="src/img/download.svg" alt="Upload">
                            <span>Загрузить файл</span>
                        </div>
                        <div class="menu-item" id="clear-storage">
                            <img src="src/img/trash-bin-0.svg" alt="Clear">
                            <span>Очистить данные</span>
                        </div>
                    </div>
                    <div class="menu-bridge"></div>
                </div>
            </div>

            <div class="search-container">
                <img src="src/img/search.svg" class="search-icon" alt="Search">
                <input type="search" class="search-bar" placeholder="Поиск..." aria-label="Search">
            </div>

            <!-- Theme toggle -->
            <div class="navbar-items-group" style="gap: 0.5em;">
                <div id="theme-toggle" class="app-button">
                    <img class="app-navbar-icon" src="src/img/moon-stars-0.svg" style="width: 1em;">
                </div>
            </div>
        </div>
    </nav>


    <!-- App -->
    <div id="app" class="app-container mx-auto max-w-full px-4 py-16 pt-20">
        <!-- Loader -->
        <div id="app-loader" class="view-section flex justify-center items-center h-screen">
            <div class="loader-container">
            </div>
        </div>

        <!-- Widgets -->
        <div id="widgets-row-container" class="app-widgets-row"></div>
        <div id="upload-data-view" class="view-section dashboard-card flex mb-8 p-6" style="display: none;">
            <div id="custom-file-input" class="custom-file-input">
                <label class="block cursor-pointer">
                    <svg class="mx-auto h-20 w-20 text-gray-400 mb-3" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                    </svg>
                    <span class="file-input-text">Перетащите CSV файл или кликните для выбора</span>
                </label>
            </div>

            <div id="slide-panel" class="slide-panel">
                <div class="slide-panel-header">
                    <h2>Обращения по задачам</h2>
                    <button class="slide-panel-close" aria-label="Закрыть">&times;</button>
                </div>
                <div class="slide-panel-content issue-table-container">
                    <!-- Content goes here -->
                </div>
            </div>

            <!-- Upload card -->
        </div>
        <div id="backlog-line-view" class="view-section flex-col gap-2">
            <div class="chart-section">
                <div class="chart-header flex justify-between items-center">

                    <div class="navbar-items-group">
                    <!-- Teams dropdown -->
                    <div id="teams-dropdown" class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle">Все команды</button>
                        <div class="dropdown-menu">
                        </div>
                    </div>

                    <!-- Date range dropdown -->
                    <div class="header-item">
                        <div id="date-range-dropdown" class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle">Все команды</button>
                            <div class="dropdown-menu">
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="chart-controls flex gap-2">
                        <button id="toggleChartView" class="app-button">
                            <img class="app-navbar-icon" src="src/img/chart-0.svg" style="width: 1em;">
                        </button>
                    </div>

                </div>

                <!-- Charts -->
                <div class="chart-container" id="backlog-charts-container">
                    <canvas id="backlog-chart-canvas" style="display: none;"></canvas>
                    <canvas id="teams-backlog-chart-canvas"></canvas>
                </div>

            </div>
        </div>
    </div>

    <!-- Utils -->
    <script src="src/scripts/utils/graphic-utils.js"></script>
    <script src="src/scripts/utils/log-tools.js"></script>
    <script src="src/scripts/utils/date-util.js"></script>
    <script src="src/scripts/utils/console-panel.js"></script>
    <script src="src/scripts/core/event-emitter.js"></script>
    <script src="src/scripts/core/theme-manager.js"></script>
    <!-- Components -->
    <script src="src/scripts/components/html-view.js"></script>
    <script src="src/scripts/components/dropdown-component.js"></script>
    <script src="src/scripts/components/date-range-dropdown.js"></script>
    <script src="src/scripts/components/teams-dropdown-component.js"></script>
    <script src="src/scripts/components/slide-panel.js"></script>
    <script src="src/scripts/components/widgets-row.js"></script>
    <script src="src/scripts/components/component-manager.js"></script>
    <script src="src/scripts/components/file-input.js"></script>
    <script src="src/scripts/components/base-chart.js"></script>
    <script src="src/scripts/components/backlog-chart.js"></script>
    <script src="src/scripts/components/teams-chart.js"></script>
    <script src="src/scripts/vendor/chart.js"></script>
    <script src="src/scripts/vendor/chartjs-adapter-date-fns@3.js"></script>
    <script src="src/scripts/components/chart-component.js"></script>
    <!-- Views -->
    <script src="src/scripts/views/view.js"></script>
    <script src="src/scripts/views/reports-view.js"></script>
    <script src="src/scripts/views/team-view.js"></script>
    <script src="src/scripts/views/backlog-view.js"></script>
    <!-- Managers -->
    <script src="src/scripts/core/chart-manager.js"></script>
    <script src="src/scripts/components/loader-view.js"></script>
    <script src="src/scripts/utils/analytic-manager.js"></script>
    <script src="src/scripts/core/data-manager.js"></script>
    <script src="src/scripts/components/issue-table.js"></script>
    <script src="src/scripts/core/ui-manager.js"></script>
    <script src="src/scripts/core/app.js"></script>
</body>

</html>